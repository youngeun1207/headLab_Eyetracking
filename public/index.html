<!DOCTYPE html>
<html>

<head>
    <title>eyetracking</title>
    <meta charset="utf-8">
    <script src="js/webgazer.js" type="text/javascript"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.0/heatmap.js" integrity="sha512-XZFexJzmhuGGou+I1Qp82iKps7LHXkQ6QQ7ueOyMpX24l7WlBVv4I1ECLFv/xozVf0cPIn70ZnXCt5V37uZUWg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-firestore.js"></script>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body id="body">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.29/dist/sweetalert2.all.min.js"></script>

    <script src="js/firebase.js"></script>

    <script src="js/calibration.js"></script>
    <script src="js/eyetracking.js"></script>

    <div class="heatmap" id="heatmap"></div>

    <div class="paint-tool">
        <canvas id="plotting_canvas" width="0" height="0" style="cursor:crosshair;"></canvas>

        <div class="calibrationDiv">
            <input type="button" class="Calibration" id="Pt1"></input>
            <input type="button" class="Calibration" id="Pt2"></input>
            <input type="button" class="Calibration" id="Pt3"></input>
            <input type="button" class="Calibration" id="Pt4"></input>
            <input type="button" class="Calibration" id="Pt5"></input>
            <input type="button" class="Calibration" id="Pt6"></input>
            <input type="button" class="Calibration" id="Pt7"></input>
            <input type="button" class="Calibration" id="Pt8"></input>
            <input type="button" class="Calibration" id="Pt9"></input>
        </div>

        <div class="controls" id="controls">
            <div class="controls_btns" id="controls_btns">
                <button id="jsMode">붓</button>
                <button id="jsEraser">지우개</button>
                <button id="jsClear">새로 만들기</button>
                <button id="jsSave">저장</button>
                <button id="jsExit">종료</button>
            </div>
            <input type="range" class="jsRange" id="jsRange" min="1" max="50.0" value="2.5" step="0.1" />
            <div class="controls_colors" id="jsColors">
                <div class="controls_color jsColor" style="background-color: #2c2c2c; border: #f2f2f2 2px solid;"></div>
                <div class="controls_color jsColor" style="background-color: white;"></div>
                <div class="controls_color jsColor" style="background-color: #FF3B30;"></div>
                <div class="controls_color jsColor" style="background-color: #ff9500;"></div>
                <div class="controls_color jsColor" style="background-color: #4cd963;"></div>
                <div class="controls_color jsColor" style="background-color: #5ac8fa;"></div>
                <div class="controls_color jsColor" style="background-color: #0579ff;"></div>
                <div class="controls_color jsColor" style="background-color: #5856d6;"></div>
                
            </div>
            </div>
        <div class="main-page">
            <div class="image-test">
                <div class="gaze-point" id="gaze-point"></div>
                <div class="fit-picture" id="fit-picture" alt="image"></div>
                <form method="post" enctype="multipart/form-data" class="upload-container">
                    <label for="chooseFile" class="upload-button" id="upload-button">참고 이미지</label>
                    <input type="file" class="file-input" id="chooseFile" name="chooseFile" accept="image/*" onchange="loadFile(this)">
                </form>
            </div>
            <div class="draw" id="canvas-container">
                <canvas id="jsCanvas" class="jsCanvas">
                </canvas>
            </div>
        </div>
    </div>

    <script src="js/resize.js"></script>
    <script src="js/heatmap.js"></script>
    <script src="js/sequence.js"></script>
    <script src="js/getShare.js"></script>
    <script src="js/reference.js"></script>
    <script src="js/app.js" type="module"></script>
</body>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.3/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBR0yFjUp3Rp6XrkVW7fuaYCjNU7t1xRB0",
      authDomain: "iboda-eyetracking.firebaseapp.com",
      databaseURL: "https://iboda-eyetracking-default-rtdb.firebaseio.com",
      projectId: "iboda-eyetracking",
      storageBucket: "iboda-eyetracking.appspot.com",
      messagingSenderId: "350140103230",
      appId: "1:350140103230:web:73c058e0544c0ad0072f6f",
      measurementId: "G-5S6M0YT4GH"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
  </script>

</html>